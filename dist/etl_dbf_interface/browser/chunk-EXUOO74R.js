import{a as G}from"./chunk-DE2FUXVL.js";import{a as Ee}from"./chunk-6E5HW3VG.js";import"./chunk-P75U6W4R.js";import{a as he}from"./chunk-IZPHESO7.js";import{$ as _,Ab as ue,B as s,Bb as _e,Ca as Y,Cb as me,D as P,Da as H,Db as fe,E as O,Eb as Ce,Fb as Se,G as b,Ga as j,Gb as be,I as f,Ia as K,L as o,M as r,Ma as Q,N as C,O as y,P as S,Q as g,Qa as q,R as D,Ra as Z,S as B,Sa as X,T as L,Ta as J,Ua as $,V as c,Va as ee,Wa as te,X as w,Xa as ne,Y as k,Ya as ie,_ as u,a as M,aa as m,ea as R,ia as W,ja as U,la as z,mb as oe,n as I,nb as re,oa as F,p as N,qb as ae,rb as ce,s as V,sb as se,t as d,tb as le,u as p,wb as ge,xb as de,yb as pe}from"./chunk-LRQEKKHY.js";var x=class l{constructor(a,t){this.http=a;this.plazaService=t}getSucursalConfig(a,t){let e=`${this.plazaService.getApiUrl(t)}/api/client_settings`,i={command:"get",client_ids:[a]};return this.http.post(e,i)}parseConfigToObject(a){return a.reduce((t,n)=>(t[n.key]=n.value,t),{})}getConfigValue(a,t){return a.find(e=>e.key===t)?.value}getSucursalesByCity(a,t){let e=`${this.plazaService.getApiUrl(t)}/api/clients_by_plaza`,i={city:a};return this.http.post(e,i)}updateMultipleSucursales(a,t,n){let i=`${this.plazaService.getApiUrl(n)}/api/client_settings`,h=Object.entries(t).map(([A,E])=>({key:A,value:typeof E=="boolean"?E?"1":"0":String(E)})),v={command:"bulk_update",client_ids:a,settings:h};return this.http.post(i,v)}updateSucursalConfig(a,t,n){let i=`${this.plazaService.getApiUrl(n)}/api/client_settings`,h=Object.entries(t).map(([A,E])=>({key:A,value:typeof E=="boolean"?E?"1":"0":String(E)})),v={command:"update",client_ids:[a],settings:h};return this.http.post(i,v)}static \u0275fac=function(t){return new(t||l)(N(F),N(Ee))};static \u0275prov=I({token:l,factory:l.\u0275fac,providedIn:"root"})};var Oe=["copyToStoresDialog"];function xe(l,a){l&1&&(o(0,"nb-option",12),c(1,"Cargando..."),r())}function Te(l,a){if(l&1&&(o(0,"nb-option",13),c(1),r()),l&2){let t=a.$implicit;f("value",t.value),s(),w(" ",t.label," ")}}function ve(l,a){l&1&&(o(0,"nb-alert",54)(1,"strong"),c(2,"Modo Solo Lectura:"),r(),c(3," No tienes permisos de administrador. Puedes ver la configuraci\xF3n pero no guardar cambios. "),r())}function Ae(l,a){l&1&&C(0,"nb-icon",55)}function Ne(l,a){l&1&&C(0,"nb-icon",56)}function Ie(l,a){l&1&&C(0,"nb-icon",55)}function Ve(l,a){l&1&&C(0,"nb-icon",57)}function De(l,a){if(l&1){let t=y();o(0,"div",14),b(1,ve,4,0,"nb-alert",15),o(2,"div",16)(3,"nb-card",17)(4,"nb-card-body")(5,"div",18),C(6,"nb-icon",19),o(7,"h3",20),c(8,"General Settings"),r()(),o(9,"div",21)(10,"label",22),c(11,"DB Name"),r(),o(12,"input",23),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.DB_NAME,e)||(i.config.DB_NAME=e),p(e)}),r()(),o(13,"div",21)(14,"label",22),c(15,"Version"),r(),o(16,"input",24),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.VERSION,e)||(i.config.VERSION=e),p(e)}),r()(),o(17,"div",25)(18,"div",26)(19,"label",22),c(20,"Debug"),r(),o(21,"nb-toggle",27),m("checkedChange",function(e){d(t);let i=g();return _(i.config.DEBUG,e)||(i.config.DEBUG=e),p(e)}),r()(),o(22,"div",26)(23,"label",22),c(24,"Stop Flag"),r(),o(25,"nb-toggle",27),m("checkedChange",function(e){d(t);let i=g();return _(i.config.STOP_FLAG,e)||(i.config.STOP_FLAG=e),p(e)}),r()()()()(),o(26,"nb-card",17)(27,"nb-card-body")(28,"div",18),C(29,"nb-icon",28),o(30,"h3",20),c(31,"Sync & Database"),r()(),o(32,"div",25)(33,"div",26)(34,"label",22),c(35,"DBF Chunks Size"),r(),o(36,"input",29),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.DBF_CHUNKS_SIZE,e)||(i.config.DBF_CHUNKS_SIZE=e),p(e)}),r()(),o(37,"div",26)(38,"label",22),c(39,"SQL Enabled"),r(),o(40,"nb-toggle",27),m("checkedChange",function(e){d(t);let i=g();return _(i.config.SQL_ENABLED,e)||(i.config.SQL_ENABLED=e),p(e)}),r()()(),o(41,"div",21)(42,"label",22),c(43,"Post API Base"),r(),o(44,"div",30),C(45,"nb-icon",31),o(46,"input",32),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.POST_API_BASE,e)||(i.config.POST_API_BASE=e),p(e)}),r()()(),o(47,"div",21)(48,"label",22),c(49,"Status API Base"),r(),o(50,"div",30),C(51,"nb-icon",31),o(52,"input",32),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.STATUS_API_BASE,e)||(i.config.STATUS_API_BASE=e),p(e)}),r()()()()()(),o(53,"nb-card",33)(54,"nb-card-body")(55,"div",18),C(56,"nb-icon",34),o(57,"h3",20),c(58,"Data Range & Operations"),r()(),o(59,"div",25)(60,"div",35)(61,"label",22),c(62,"Start Date"),r(),o(63,"input",36),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.START_DATE,e)||(i.config.START_DATE=e),p(e)}),r()(),o(64,"div",35)(65,"label",22),c(66,"Custom Date Range"),r(),o(67,"nb-toggle",27),m("checkedChange",function(e){d(t);let i=g();return _(i.config.CUSTOM_DATE_RANGE,e)||(i.config.CUSTOM_DATE_RANGE=e),p(e)}),r()(),o(68,"div",35)(69,"label",22),c(70,"Update Items"),r(),o(71,"input",37),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.UPDATE,e)||(i.config.UPDATE=e),p(e)}),r()()(),o(72,"div",25)(73,"div",35)(74,"label",22),c(75,"End Date (Offset)"),r(),o(76,"input",38),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.END_DATE,e)||(i.config.END_DATE=e),p(e)}),r()(),o(77,"div",35)(78,"label",22),c(79,"Create Items"),r(),o(80,"input",37),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.CREATE,e)||(i.config.CREATE=e),p(e)}),r()(),o(81,"div",35)(82,"label",22),c(83,"Delete Items"),r(),o(84,"input",37),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.DELETE,e)||(i.config.DELETE=e),p(e)}),r()()()()(),o(85,"nb-card",33)(86,"nb-card-body")(87,"div",18),C(88,"nb-icon",39),o(89,"h3",20),c(90,"Tables & Operations"),r()(),o(91,"div",21)(92,"label",22),c(93,"Tables (comma-separated)"),r(),o(94,"input",40),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.TABLES,e)||(i.config.TABLES=e),p(e)}),r()(),o(95,"div",21)(96,"label",22),c(97,"Command Line (JSON)"),r(),o(98,"input",41),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.COMMAND_LINE,e)||(i.config.COMMAND_LINE=e),p(e)}),r()(),o(99,"div",25)(100,"div",35)(101,"label",22),c(102,"Key ID Bypass"),r(),o(103,"nb-toggle",27),m("checkedChange",function(e){d(t);let i=g();return _(i.config.KEY_ID_BYPASS,e)||(i.config.KEY_ID_BYPASS=e),p(e)}),r()(),o(104,"div",35)(105,"label",22),c(106,"Special Operations"),r(),o(107,"nb-toggle",27),m("checkedChange",function(e){d(t);let i=g();return _(i.config.SPECIAL_OPS,e)||(i.config.SPECIAL_OPS=e),p(e)}),r()()()()(),o(108,"nb-card",33)(109,"nb-card-body")(110,"div",18),C(111,"nb-icon",42),o(112,"h3",20),c(113,"Night Sync Configuration"),r()(),o(114,"div",25)(115,"div",35)(116,"label",22),c(117,"Night Sync Enabled"),r(),o(118,"nb-toggle",27),m("checkedChange",function(e){d(t);let i=g();return _(i.config.NIGHT_SYNC_ENABLED,e)||(i.config.NIGHT_SYNC_ENABLED=e),p(e)}),r()(),o(119,"div",35)(120,"label",22),c(121,"Night Sync Start"),r(),o(122,"input",43),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.NIGHT_SYNC_START,e)||(i.config.NIGHT_SYNC_START=e),p(e)}),r()(),o(123,"div",35)(124,"label",22),c(125,"Night Sync End"),r(),o(126,"input",44),m("ngModelChange",function(e){d(t);let i=g();return _(i.config.NIGHT_SYNC_END,e)||(i.config.NIGHT_SYNC_END=e),p(e)}),r()()()()(),o(127,"div",45)(128,"button",46),S("click",function(){d(t);let e=g();return p(e.resetConfig())}),C(129,"nb-icon",47),c(130," RESTABLECER "),r(),o(131,"button",48),S("click",function(){d(t);let e=g();return p(e.openCopyToStoresModal())}),C(132,"nb-icon",49),b(133,Ae,1,0,"nb-icon",50),c(134," COPIAR A OTRAS TIENDAS "),r(),o(135,"button",51),S("click",function(){d(t);let e=g();return p(e.saveConfig())}),b(136,Ne,1,0,"nb-icon",52)(137,Ie,1,0,"nb-icon",50)(138,Ve,1,0,"nb-icon",53),c(139),r()()()}if(l&2){let t=g();s(),f("ngIf",!t.isAdmin),s(11),u("ngModel",t.config.DB_NAME),s(4),u("ngModel",t.config.VERSION),s(5),u("checked",t.config.DEBUG),s(4),u("checked",t.config.STOP_FLAG),s(11),u("ngModel",t.config.DBF_CHUNKS_SIZE),s(4),u("checked",t.config.SQL_ENABLED),s(6),u("ngModel",t.config.POST_API_BASE),s(6),u("ngModel",t.config.STATUS_API_BASE),s(11),u("ngModel",t.config.START_DATE),s(4),u("checked",t.config.CUSTOM_DATE_RANGE),s(4),u("ngModel",t.config.UPDATE),s(5),u("ngModel",t.config.END_DATE),s(4),u("ngModel",t.config.CREATE),s(4),u("ngModel",t.config.DELETE),s(10),u("ngModel",t.config.TABLES),s(4),u("ngModel",t.config.COMMAND_LINE),s(5),u("checked",t.config.KEY_ID_BYPASS),s(4),u("checked",t.config.SPECIAL_OPS),s(11),u("checked",t.config.NIGHT_SYNC_ENABLED),s(4),u("ngModel",t.config.NIGHT_SYNC_START),s(4),u("ngModel",t.config.NIGHT_SYNC_END),s(5),f("disabled",!t.isAdmin)("nbTooltip",t.isAdmin?"":"Solo administradores pueden copiar configuraciones"),s(2),f("ngIf",!t.isAdmin),s(2),f("disabled",t.savingConfig||!t.isAdmin)("nbTooltip",t.isAdmin?"":"Solo administradores pueden guardar configuraciones"),s(),f("ngIf",!t.savingConfig&&t.isAdmin),s(),f("ngIf",!t.savingConfig&&!t.isAdmin),s(),f("ngIf",t.savingConfig),s(),w(" ",t.savingConfig?"GUARDANDO...":"GUARDAR CONFIGURACI\xD3N"," ")}}function Be(l,a){if(l&1){let t=y();o(0,"nb-checkbox",27),S("checkedChange",function(){d(t);let e=g().$implicit,i=g(2);return p(i.toggleStoreSelection(e.value))}),c(1),r()}if(l&2){let t=g().$implicit,n=g(2);f("checked",n.isStoreSelected(t.value)),s(),k(" ",t.label," (",t.value,") ")}}function Le(l,a){if(l&1&&(o(0,"div",72),b(1,Be,2,3,"nb-checkbox",73),r()),l&2){let t=a.$implicit,n=g(2);s(),f("ngIf",t.value!==n.selectedSucursal)}}function ke(l,a){l&1&&C(0,"nb-icon",49)}function Re(l,a){l&1&&C(0,"nb-icon",57)}function We(l,a){if(l&1){let t=y();o(0,"nb-card")(1,"nb-card-header")(2,"div",58)(3,"h5"),c(4,"Copiar Configuraci\xF3n a Otras Tiendas"),r(),o(5,"button",59),S("click",function(){let e=d(t).dialogRef;return p(e.close())}),C(6,"nb-icon",60),r()()(),o(7,"nb-card-body")(8,"div",61)(9,"nb-alert",62)(10,"strong"),c(11,"Nota:"),r(),c(12," El campo "),o(13,"strong"),c(14,"DB_NAME"),r(),c(15," NO ser\xE1 copiado para mantener nombres \xFAnicos por tienda. "),r(),o(16,"div",63)(17,"button",64),S("click",function(){d(t);let e=g();return p(e.selectAllStores())}),c(18," Seleccionar Todas "),r(),o(19,"button",64),S("click",function(){d(t);let e=g();return p(e.clearAllStores())}),c(20," Limpiar Selecci\xF3n "),r()(),o(21,"div",65),b(22,Le,2,1,"div",66),r(),o(23,"div",67)(24,"strong"),c(25,"Tiendas seleccionadas:"),r(),c(26),r()()(),o(27,"nb-card-footer")(28,"div",68)(29,"button",69),S("click",function(){let e=d(t).dialogRef;return p(e.close())}),c(30," Cancelar "),r(),o(31,"button",70),S("click",function(){let e=d(t).dialogRef,i=g();return p(i.copyConfigToStores(e))}),b(32,ke,1,0,"nb-icon",71)(33,Re,1,0,"nb-icon",53),c(34),r()()()()}if(l&2){let t=g();s(22),f("ngForOf",t.sucursales),s(4),w(" ",t.selectedStoresForCopy.size," "),s(5),f("disabled",t.selectedStoresForCopy.size===0||t.copyingToStores),s(),f("ngIf",!t.copyingToStores),s(),f("ngIf",t.copyingToStores),s(),w(" ",t.copyingToStores?"Copiando...":"Copiar Configuraci\xF3n"," ")}}var T=class l{constructor(a,t,n,e){this.sucursalConfigService=a;this.dialogService=t;this.toastrService=n;this.authService=e}selectedPlaza="xalap";copyToStoresDialog;selectedSucursal;loading=!1;loadingSucursales=!1;error=null;isAdmin=!1;plazas=[{value:"XALAP",label:"Xalapa"},{value:"CHETU",label:"Chetumal"},{value:"PENLA",label:"Peninsula"},{value:"VALLA",label:"Vallarta"},{value:"MANZA",label:"Manzanillo"},{value:"REYES",label:"Reyes"},{value:"GUADA",label:"Guadalajara"}];sucursales=[];config={COMMAND_LINE:"",CREATE:"",CUSTOM_DATE_RANGE:!1,DBF_CHUNKS_SIZE:500,DB_NAME:"",DEBUG:!1,DELETE:"",END_DATE:0,KEY_ID_BYPASS:!1,NIGHT_SYNC_ENABLED:!1,NIGHT_SYNC_END:"",NIGHT_SYNC_START:"",POST_API_BASE:"",SPECIAL_OPS:!1,SQL_ENABLED:!1,START_DATE:"",STATUS_API_BASE:"",STOP_FLAG:!1,TABLES:"",UPDATE:"",VERSION:""};originalConfig=M({},this.config);ngOnInit(){this.isAdmin=this.authService.isAdministrator(),this.selectedPlaza&&this.loadSucursales(this.selectedPlaza)}ngOnChanges(a){a.selectedPlaza&&!a.selectedPlaza.firstChange&&(this.selectedSucursal=null,this.sucursales=[],this.selectedPlaza&&this.loadSucursales(this.selectedPlaza))}loadSucursales(a){this.loadingSucursales=!0,this.error=null;let n={xalap:"XALAP"}[a]||a.toUpperCase();this.sucursalConfigService.getSucursalesByCity(n,a).subscribe({next:e=>{e.success&&(this.sucursales=e.data.map(i=>({value:i.client_id,label:i.tienda})),this.loadingSucursales=!1)},error:e=>{console.error("Error fetching sucursales:",e),this.error="Failed to load sucursales list",this.loadingSucursales=!1}})}onSucursalChange(a){a&&(this.loading=!0,this.error=null,this.sucursalConfigService.getSucursalConfig(a,"xalap").subscribe({next:t=>{if(t.success){let n=this.sucursalConfigService.parseConfigToObject(t.data);this.config={COMMAND_LINE:n.COMMAND_LINE||"",CREATE:n.CREATE||"",CUSTOM_DATE_RANGE:n.CUSTOM_DATE_RANGE==="1"||n.CUSTOM_DATE_RANGE==="true",DBF_CHUNKS_SIZE:parseInt(n.DBF_CHUNKS_SIZE||"500"),DB_NAME:n.DB_NAME||"",DEBUG:n.DEBUG==="1"||n.DEBUG==="true",DELETE:n.DELETE||"",END_DATE:parseInt(n.END_DATE||"0"),KEY_ID_BYPASS:n.KEY_ID_BYPASS==="1"||n.KEY_ID_BYPASS==="true",NIGHT_SYNC_ENABLED:n.NIGHT_SYNC_ENABLED==="1"||n.NIGHT_SYNC_ENABLED==="true",NIGHT_SYNC_END:n.NIGHT_SYNC_END||"",NIGHT_SYNC_START:n.NIGHT_SYNC_START||"",POST_API_BASE:n.POST_API_BASE||"",SPECIAL_OPS:n.SPECIAL_OPS==="1"||n.SPECIAL_OPS==="true",SQL_ENABLED:n.SQL_ENABLED==="1"||n.SQL_ENABLED==="true",START_DATE:n.START_DATE||"",STATUS_API_BASE:n.STATUS_API_BASE||"",STOP_FLAG:n.STOP_FLAG==="1"||n.STOP_FLAG==="true",TABLES:n.TABLES||"",UPDATE:n.UPDATE||"",VERSION:n.VERSION||""},this.originalConfig=M({},this.config),this.loading=!1}},error:t=>{console.error("Error fetching sucursal config:",t),this.error="Failed to load configuration",this.loading=!1}}))}savingConfig=!1;saveConfig(){this.selectedSucursal&&(this.savingConfig=!0,this.error=null,this.sucursalConfigService.updateSucursalConfig(this.selectedSucursal,this.config,this.selectedPlaza).subscribe({next:a=>{console.log("Configuration saved successfully",a),this.originalConfig=M({},this.config),this.savingConfig=!1,this.toastrService.success("Configuraci\xF3n guardada exitosamente","\xC9xito")},error:a=>{console.error("Error saving configuration:",a),this.error="Failed to save configuration",this.savingConfig=!1,this.toastrService.danger("Error al guardar la configuraci\xF3n","Error")}}))}resetConfig(){this.config=M({},this.originalConfig),console.log("Configuration reset")}selectedStoresForCopy=new Set;copyingToStores=!1;openCopyToStoresModal(){this.selectedSucursal&&(this.selectedStoresForCopy.clear(),this.dialogService.open(this.copyToStoresDialog,{context:{availableStores:this.sucursales.filter(a=>a.value!==this.selectedSucursal)}}))}toggleStoreSelection(a){this.selectedStoresForCopy.has(a)?this.selectedStoresForCopy.delete(a):this.selectedStoresForCopy.add(a)}isStoreSelected(a){return this.selectedStoresForCopy.has(a)}selectAllStores(){this.sucursales.filter(a=>a.value!==this.selectedSucursal).forEach(a=>this.selectedStoresForCopy.add(a.value))}clearAllStores(){this.selectedStoresForCopy.clear()}copyConfigToStores(a){if(this.selectedStoresForCopy.size===0)return;this.copyingToStores=!0;let t=M({},this.config);delete t.DB_NAME;let n=Array.from(this.selectedStoresForCopy);this.sucursalConfigService.updateMultipleSucursales(n,t,this.selectedPlaza).subscribe({next:e=>{console.log("Configuration copied successfully",e),this.copyingToStores=!1,a.close(),this.toastrService.success(`Configuraci\xF3n copiada a ${n.length} tienda(s)`,"\xC9xito")},error:e=>{console.error("Error copying configuration:",e),this.error="Failed to copy configuration to stores",this.copyingToStores=!1,this.toastrService.danger("Error al copiar la configuraci\xF3n","Error")}})}static \u0275fac=function(t){return new(t||l)(P(x),P(ge),P(pe),P(G))};static \u0275cmp=O({type:l,selectors:[["app-setup-view"]],viewQuery:function(t,n){if(t&1&&D(Oe,5),t&2){let e;B(e=L())&&(n.copyToStoresDialog=e.first)}},inputs:{selectedPlaza:"selectedPlaza"},features:[V],decls:16,vars:5,consts:[["copyToStoresDialog",""],[1,"setup-container"],[1,"setup-header"],[1,"header-content"],[1,"setup-title"],[1,"setup-subtitle"],[1,"plaza-selector-wrapper"],[1,"plaza-label"],["placeholder","Seleccione una sucursal",1,"plaza-select",3,"selectedChange","selected","disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["class","config-sections",4,"ngIf"],["value",""],[3,"value"],[1,"config-sections"],["status","warning","closable","",4,"ngIf"],[1,"section-row"],[1,"config-section"],[1,"section-header"],["icon","settings-2-outline",1,"section-icon"],[1,"section-title"],[1,"form-field"],[1,"field-label"],["nbInput","","placeholder","XMIGU",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","placeholder","batch_001",1,"field-input",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-field","half-width"],[3,"checkedChange","checked"],["icon","sync-outline",1,"section-icon"],["nbInput","","type","number","placeholder","500",1,"field-input",3,"ngModelChange","ngModel"],[1,"input-with-icon"],["icon","link-2-outline",1,"input-icon"],["nbInput","","placeholder","http://canovas.camposreye...",1,"field-input","with-icon",3,"ngModelChange","ngModel"],[1,"config-section","full-width"],["icon","calendar-outline",1,"section-icon"],[1,"form-field","third-width"],["nbInput","","type","date","placeholder","mm/dd/yyyy",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","placeholder","items",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","type","number","placeholder","0",1,"field-input",3,"ngModelChange","ngModel"],["icon","list-outline",1,"section-icon"],["nbInput","","placeholder","XCORTE,CANOTA,CUNOTA,VENTA,PARTVTA,COBRANZA,FLUJORES",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","placeholder",'{"task":"replace_recno"}',1,"field-input",3,"ngModelChange","ngModel"],["icon","moon-outline",1,"section-icon"],["nbInput","","type","time","placeholder","21:00",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","type","time","placeholder","06:00",1,"field-input",3,"ngModelChange","ngModel"],[1,"action-buttons"],["nbButton","","status","basic","size","large",1,"reset-button",3,"click"],["icon","refresh-outline"],["nbButton","","status","info","size","large",1,"copy-button",3,"click","disabled","nbTooltip"],["icon","copy-outline"],["icon","lock-outline",4,"ngIf"],["nbButton","","status","primary","size","large",1,"save-button",3,"click","disabled","nbTooltip"],["icon","save-outline",4,"ngIf"],["icon","loader-outline","class","spin",4,"ngIf"],["status","warning","closable",""],["icon","lock-outline"],["icon","save-outline"],["icon","loader-outline",1,"spin"],[2,"display","flex","justify-content","space-between","align-items","center"],["nbButton","","ghost","",3,"click"],["icon","close-outline"],[2,"margin-bottom","1rem"],["status","warning",2,"margin-bottom","1rem"],[2,"display","flex","gap","0.5rem","margin-bottom","1rem"],["nbButton","","size","small","status","basic",3,"click"],[2,"max-height","300px","overflow-y","auto"],["style","margin-bottom: 0.5rem;",4,"ngFor","ngForOf"],[2,"margin-top","1rem","padding","0.5rem","border-radius","4px"],[2,"display","flex","justify-content","flex-end","gap","0.5rem"],["nbButton","","status","basic",3,"click"],["nbButton","","status","primary",3,"click","disabled"],["icon","copy-outline",4,"ngIf"],[2,"margin-bottom","0.5rem"],[3,"checked","checkedChange",4,"ngIf"]],template:function(t,n){if(t&1){let e=y();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),c(4,"Configuraci\xF3n"),r(),o(5,"p",5),c(6,"Administra los par\xE1metros de sincronizaci\xF3n y base de datos."),r()(),o(7,"div",6)(8,"label",7),c(9,"Sucursal:"),r(),o(10,"nb-select",8),m("selectedChange",function(h){return d(e),_(n.selectedSucursal,h)||(n.selectedSucursal=h),p(h)}),S("selectedChange",function(h){return d(e),p(n.onSucursalChange(h))}),b(11,xe,2,0,"nb-option",9)(12,Te,2,2,"nb-option",10),r()()(),b(13,De,140,31,"div",11),r(),b(14,We,35,6,"ng-template",null,0,R)}t&2&&(s(10),u("selected",n.selectedSucursal),f("disabled",n.loadingSucursales||n.sucursales.length===0),s(),f("ngIf",n.loadingSucursales),s(),f("ngForOf",n.sucursales),s(),f("ngIf",n.selectedSucursal))},dependencies:[te,ee,J,$,X,Ce,fe,me,z,W,U,Q,Y,K,H,j,ie,ne,Z,q,le,se,be,Se,de,re,oe,ce,ae,_e,ue],styles:[".setup-container[_ngcontent-%COMP%]{padding:0}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1.5rem 0}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .setup-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin:0 0 .5rem;color:#b4b9c5}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .setup-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:#6b7280;margin:0}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .plaza-selector-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;min-width:300px}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .plaza-selector-wrapper[_ngcontent-%COMP%]   .plaza-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;white-space:nowrap}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .plaza-selector-wrapper[_ngcontent-%COMP%]   .plaza-select[_ngcontent-%COMP%]{flex:1}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .section-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}@media (max-width: 1200px){.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .section-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]{background:#1e2139;border:1px solid #2d3548;border-radius:.75rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section.full-width[_ngcontent-%COMP%]{width:100%}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]     nb-card-body{padding:1.5rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#5b8def}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:0;color:#e5e7eb}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#9ca3af;margin-bottom:.5rem;font-weight:500}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%]{width:100%;background:#14172b;border:1px solid #2d3548;border-radius:.5rem;color:#e5e7eb;padding:.65rem .9rem;font-size:.9rem;transition:all .2s ease}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%]:focus{background:#14172b;border-color:#5b8def;outline:none}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%]::placeholder{color:#6b7280}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-input.with-icon[_ngcontent-%COMP%]{padding-left:2.75rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-with-icon[_ngcontent-%COMP%]{position:relative}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-with-icon[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6b7280;font-size:1.1rem;pointer-events:none}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:.75rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-field.half-width[_ngcontent-%COMP%], .setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-field.third-width[_ngcontent-%COMP%]{flex:1}@media (max-width: 768px){.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex-direction:column}}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem;padding-top:0}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;font-weight:600;font-size:.85rem;letter-spacing:.5px;border-radius:.5rem;transition:all .2s ease}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.2rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.reset-button[_ngcontent-%COMP%]{background:#1e2139;border:1px solid #2d3548;color:#e5e7eb}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.reset-button[_ngcontent-%COMP%]:hover{background:#282d47;transform:translateY(-1px)}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.save-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5b8def,#7c6bef);border:none;color:#fff;box-shadow:0 4px 12px #5b8def4d}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.save-button[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #5b8def66;transform:translateY(-1px)}  nb-select .select-button{background:#14172b!important;border:1px solid #2d3548!important;border-radius:.5rem!important;color:#e5e7eb!important;padding:.65rem .9rem!important}  nb-select .select-button:focus{background:#14172b!important;border-color:#5b8def!important}  nb-select .select-button .placeholder{color:#6b7280!important}  input[nbInput]::-webkit-calendar-picker-indicator{filter:invert(1);cursor:pointer}"]})};var Pe=class l{selectedCity="xalap";constructor(){}onPlazaChange(a){this.selectedCity=a}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=O({type:l,selectors:[["app-settings"]],decls:2,vars:2,consts:[[3,"selectedPlazaChange","selectedPlaza"],[3,"selectedPlaza"]],template:function(t,n){t&1&&(o(0,"app-plaza-selector",0),m("selectedPlazaChange",function(i){return _(n.selectedCity,i)||(n.selectedCity=i),i}),S("selectedPlazaChange",function(i){return n.onPlazaChange(i)}),r(),C(1,"app-setup-view",1)),t&2&&(u("selectedPlaza",n.selectedCity),s(),f("selectedPlaza",n.selectedCity))},dependencies:[he,T],encapsulation:2})};export{Pe as SettingsComponent};
