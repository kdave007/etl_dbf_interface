import{a as Se}from"./chunk-TRXHS44N.js";import{a as fe}from"./chunk-PCI3NK2F.js";import{$ as u,Ab as pe,B as s,Bb as _e,Ca as G,Cb as ue,D as w,Da as Y,Db as me,E as O,Eb as Ce,G as h,Ga as H,I as C,Ia as j,L as o,M as r,Ma as K,N as f,O as P,P as S,Q as l,Qa as Q,R as D,Ra as q,S as B,Sa as Z,T as L,Ta as X,Ua as J,V as a,Va as $,Wa as ee,X as y,Xa as te,Y as k,Ya as ne,_,a as M,aa as m,ea as R,ia as W,ja as z,la as U,mb as ie,n as V,nb as oe,oa as F,p as N,qb as re,rb as ce,s as I,sb as ae,t as d,tb as se,u as p,wb as le,xb as ge,yb as de}from"./chunk-HIEGVO2R.js";var x=class g{constructor(c,t){this.http=c;this.plazaService=t}getSucursalConfig(c,t){let e=`${this.plazaService.getApiUrl(t)}/api/client_settings`,i={command:"get",client_ids:[c]};return this.http.post(e,i)}parseConfigToObject(c){return c.reduce((t,n)=>(t[n.key]=n.value,t),{})}getConfigValue(c,t){return c.find(e=>e.key===t)?.value}getSucursalesByCity(c,t){let e=`${this.plazaService.getApiUrl(t)}/api/clients_by_plaza`,i={city:c};return this.http.post(e,i)}updateMultipleSucursales(c,t,n){let i=`${this.plazaService.getApiUrl(n)}/api/client_settings`,b=Object.entries(t).map(([v,E])=>({key:v,value:typeof E=="boolean"?E?"1":"0":String(E)})),A={command:"bulk_update",client_ids:c,settings:b};return this.http.post(i,A)}updateSucursalConfig(c,t,n){let i=`${this.plazaService.getApiUrl(n)}/api/client_settings`,b=Object.entries(t).map(([v,E])=>({key:v,value:typeof E=="boolean"?E?"1":"0":String(E)})),A={command:"update",client_ids:[c],settings:b};return this.http.post(i,A)}static \u0275fac=function(t){return new(t||g)(N(F),N(Se))};static \u0275prov=V({token:g,factory:g.\u0275fac,providedIn:"root"})};var Pe=["copyToStoresDialog"];function ye(g,c){g&1&&(o(0,"nb-option",12),a(1,"Cargando..."),r())}function we(g,c){if(g&1&&(o(0,"nb-option",13),a(1),r()),g&2){let t=c.$implicit;C("value",t.value),s(),y(" ",t.label," ")}}function Oe(g,c){g&1&&f(0,"nb-icon",52)}function xe(g,c){g&1&&f(0,"nb-icon",53)}function Te(g,c){if(g&1){let t=P();o(0,"div",14)(1,"div",15)(2,"nb-card",16)(3,"nb-card-body")(4,"div",17),f(5,"nb-icon",18),o(6,"h3",19),a(7,"General Settings"),r()(),o(8,"div",20)(9,"label",21),a(10,"DB Name"),r(),o(11,"input",22),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.DB_NAME,e)||(i.config.DB_NAME=e),p(e)}),r()(),o(12,"div",20)(13,"label",21),a(14,"Version"),r(),o(15,"input",23),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.VERSION,e)||(i.config.VERSION=e),p(e)}),r()(),o(16,"div",24)(17,"div",25)(18,"label",21),a(19,"Debug"),r(),o(20,"nb-toggle",26),m("checkedChange",function(e){d(t);let i=l();return u(i.config.DEBUG,e)||(i.config.DEBUG=e),p(e)}),r()(),o(21,"div",25)(22,"label",21),a(23,"Stop Flag"),r(),o(24,"nb-toggle",26),m("checkedChange",function(e){d(t);let i=l();return u(i.config.STOP_FLAG,e)||(i.config.STOP_FLAG=e),p(e)}),r()()()()(),o(25,"nb-card",16)(26,"nb-card-body")(27,"div",17),f(28,"nb-icon",27),o(29,"h3",19),a(30,"Sync & Database"),r()(),o(31,"div",24)(32,"div",25)(33,"label",21),a(34,"DBF Chunks Size"),r(),o(35,"input",28),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.DBF_CHUNKS_SIZE,e)||(i.config.DBF_CHUNKS_SIZE=e),p(e)}),r()(),o(36,"div",25)(37,"label",21),a(38,"SQL Enabled"),r(),o(39,"nb-toggle",26),m("checkedChange",function(e){d(t);let i=l();return u(i.config.SQL_ENABLED,e)||(i.config.SQL_ENABLED=e),p(e)}),r()()(),o(40,"div",20)(41,"label",21),a(42,"Post API Base"),r(),o(43,"div",29),f(44,"nb-icon",30),o(45,"input",31),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.POST_API_BASE,e)||(i.config.POST_API_BASE=e),p(e)}),r()()(),o(46,"div",20)(47,"label",21),a(48,"Status API Base"),r(),o(49,"div",29),f(50,"nb-icon",30),o(51,"input",31),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.STATUS_API_BASE,e)||(i.config.STATUS_API_BASE=e),p(e)}),r()()()()()(),o(52,"nb-card",32)(53,"nb-card-body")(54,"div",17),f(55,"nb-icon",33),o(56,"h3",19),a(57,"Data Range & Operations"),r()(),o(58,"div",24)(59,"div",34)(60,"label",21),a(61,"Start Date"),r(),o(62,"input",35),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.START_DATE,e)||(i.config.START_DATE=e),p(e)}),r()(),o(63,"div",34)(64,"label",21),a(65,"Custom Date Range"),r(),o(66,"nb-toggle",26),m("checkedChange",function(e){d(t);let i=l();return u(i.config.CUSTOM_DATE_RANGE,e)||(i.config.CUSTOM_DATE_RANGE=e),p(e)}),r()(),o(67,"div",34)(68,"label",21),a(69,"Update Items"),r(),o(70,"input",36),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.UPDATE,e)||(i.config.UPDATE=e),p(e)}),r()()(),o(71,"div",24)(72,"div",34)(73,"label",21),a(74,"End Date (Offset)"),r(),o(75,"input",37),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.END_DATE,e)||(i.config.END_DATE=e),p(e)}),r()(),o(76,"div",34)(77,"label",21),a(78,"Create Items"),r(),o(79,"input",36),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.CREATE,e)||(i.config.CREATE=e),p(e)}),r()(),o(80,"div",34)(81,"label",21),a(82,"Delete Items"),r(),o(83,"input",36),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.DELETE,e)||(i.config.DELETE=e),p(e)}),r()()()()(),o(84,"nb-card",32)(85,"nb-card-body")(86,"div",17),f(87,"nb-icon",38),o(88,"h3",19),a(89,"Tables & Operations"),r()(),o(90,"div",20)(91,"label",21),a(92,"Tables (comma-separated)"),r(),o(93,"input",39),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.TABLES,e)||(i.config.TABLES=e),p(e)}),r()(),o(94,"div",20)(95,"label",21),a(96,"Command Line (JSON)"),r(),o(97,"input",40),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.COMMAND_LINE,e)||(i.config.COMMAND_LINE=e),p(e)}),r()(),o(98,"div",24)(99,"div",34)(100,"label",21),a(101,"Key ID Bypass"),r(),o(102,"nb-toggle",26),m("checkedChange",function(e){d(t);let i=l();return u(i.config.KEY_ID_BYPASS,e)||(i.config.KEY_ID_BYPASS=e),p(e)}),r()(),o(103,"div",34)(104,"label",21),a(105,"Special Operations"),r(),o(106,"nb-toggle",26),m("checkedChange",function(e){d(t);let i=l();return u(i.config.SPECIAL_OPS,e)||(i.config.SPECIAL_OPS=e),p(e)}),r()()()()(),o(107,"nb-card",32)(108,"nb-card-body")(109,"div",17),f(110,"nb-icon",41),o(111,"h3",19),a(112,"Night Sync Configuration"),r()(),o(113,"div",24)(114,"div",34)(115,"label",21),a(116,"Night Sync Enabled"),r(),o(117,"nb-toggle",26),m("checkedChange",function(e){d(t);let i=l();return u(i.config.NIGHT_SYNC_ENABLED,e)||(i.config.NIGHT_SYNC_ENABLED=e),p(e)}),r()(),o(118,"div",34)(119,"label",21),a(120,"Night Sync Start"),r(),o(121,"input",42),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.NIGHT_SYNC_START,e)||(i.config.NIGHT_SYNC_START=e),p(e)}),r()(),o(122,"div",34)(123,"label",21),a(124,"Night Sync End"),r(),o(125,"input",43),m("ngModelChange",function(e){d(t);let i=l();return u(i.config.NIGHT_SYNC_END,e)||(i.config.NIGHT_SYNC_END=e),p(e)}),r()()()()(),o(126,"div",44)(127,"button",45),S("click",function(){d(t);let e=l();return p(e.resetConfig())}),f(128,"nb-icon",46),a(129," RESTABLECER "),r(),o(130,"button",47),S("click",function(){d(t);let e=l();return p(e.openCopyToStoresModal())}),f(131,"nb-icon",48),a(132," COPIAR A OTRAS TIENDAS "),r(),o(133,"button",49),S("click",function(){d(t);let e=l();return p(e.saveConfig())}),h(134,Oe,1,0,"nb-icon",50)(135,xe,1,0,"nb-icon",51),a(136),r()()()}if(g&2){let t=l();s(11),_("ngModel",t.config.DB_NAME),s(4),_("ngModel",t.config.VERSION),s(5),_("checked",t.config.DEBUG),s(4),_("checked",t.config.STOP_FLAG),s(11),_("ngModel",t.config.DBF_CHUNKS_SIZE),s(4),_("checked",t.config.SQL_ENABLED),s(6),_("ngModel",t.config.POST_API_BASE),s(6),_("ngModel",t.config.STATUS_API_BASE),s(11),_("ngModel",t.config.START_DATE),s(4),_("checked",t.config.CUSTOM_DATE_RANGE),s(4),_("ngModel",t.config.UPDATE),s(5),_("ngModel",t.config.END_DATE),s(4),_("ngModel",t.config.CREATE),s(4),_("ngModel",t.config.DELETE),s(10),_("ngModel",t.config.TABLES),s(4),_("ngModel",t.config.COMMAND_LINE),s(5),_("checked",t.config.KEY_ID_BYPASS),s(4),_("checked",t.config.SPECIAL_OPS),s(11),_("checked",t.config.NIGHT_SYNC_ENABLED),s(4),_("ngModel",t.config.NIGHT_SYNC_START),s(4),_("ngModel",t.config.NIGHT_SYNC_END),s(8),C("disabled",t.savingConfig),s(),C("ngIf",!t.savingConfig),s(),C("ngIf",t.savingConfig),s(),y(" ",t.savingConfig?"GUARDANDO...":"GUARDAR CONFIGURACI\xD3N"," ")}}function Ae(g,c){if(g&1){let t=P();o(0,"nb-checkbox",26),S("checkedChange",function(){d(t);let e=l().$implicit,i=l(2);return p(i.toggleStoreSelection(e.value))}),a(1),r()}if(g&2){let t=l().$implicit,n=l(2);C("checked",n.isStoreSelected(t.value)),s(),k(" ",t.label," (",t.value,") ")}}function ve(g,c){if(g&1&&(o(0,"div",68),h(1,Ae,2,3,"nb-checkbox",69),r()),g&2){let t=c.$implicit,n=l(2);s(),C("ngIf",t.value!==n.selectedSucursal)}}function Ne(g,c){g&1&&f(0,"nb-icon",48)}function Ve(g,c){g&1&&f(0,"nb-icon",53)}function Ie(g,c){if(g&1){let t=P();o(0,"nb-card")(1,"nb-card-header")(2,"div",54)(3,"h5"),a(4,"Copiar Configuraci\xF3n a Otras Tiendas"),r(),o(5,"button",55),S("click",function(){let e=d(t).dialogRef;return p(e.close())}),f(6,"nb-icon",56),r()()(),o(7,"nb-card-body")(8,"div",57)(9,"nb-alert",58)(10,"strong"),a(11,"Nota:"),r(),a(12," El campo "),o(13,"strong"),a(14,"DB_NAME"),r(),a(15," NO ser\xE1 copiado para mantener nombres \xFAnicos por tienda. "),r(),o(16,"div",59)(17,"button",60),S("click",function(){d(t);let e=l();return p(e.selectAllStores())}),a(18," Seleccionar Todas "),r(),o(19,"button",60),S("click",function(){d(t);let e=l();return p(e.clearAllStores())}),a(20," Limpiar Selecci\xF3n "),r()(),o(21,"div",61),h(22,ve,2,1,"div",62),r(),o(23,"div",63)(24,"strong"),a(25,"Tiendas seleccionadas:"),r(),a(26),r()()(),o(27,"nb-card-footer")(28,"div",64)(29,"button",65),S("click",function(){let e=d(t).dialogRef;return p(e.close())}),a(30," Cancelar "),r(),o(31,"button",66),S("click",function(){let e=d(t).dialogRef,i=l();return p(i.copyConfigToStores(e))}),h(32,Ne,1,0,"nb-icon",67)(33,Ve,1,0,"nb-icon",51),a(34),r()()()()}if(g&2){let t=l();s(22),C("ngForOf",t.sucursales),s(4),y(" ",t.selectedStoresForCopy.size," "),s(5),C("disabled",t.selectedStoresForCopy.size===0||t.copyingToStores),s(),C("ngIf",!t.copyingToStores),s(),C("ngIf",t.copyingToStores),s(),y(" ",t.copyingToStores?"Copiando...":"Copiar Configuraci\xF3n"," ")}}var T=class g{constructor(c,t,n){this.sucursalConfigService=c;this.dialogService=t;this.toastrService=n}selectedPlaza="xalap";copyToStoresDialog;selectedSucursal;loading=!1;loadingSucursales=!1;error=null;plazas=[{value:"XALAP",label:"Xalapa"},{value:"CHETU",label:"Chetumal"},{value:"PENLA",label:"Peninsula"},{value:"VALLA",label:"Vallarta"},{value:"MANZA",label:"Manzanillo"},{value:"REYES",label:"Reyes"}];sucursales=[];config={COMMAND_LINE:"",CREATE:"",CUSTOM_DATE_RANGE:!1,DBF_CHUNKS_SIZE:500,DB_NAME:"",DEBUG:!1,DELETE:"",END_DATE:0,KEY_ID_BYPASS:!1,NIGHT_SYNC_ENABLED:!1,NIGHT_SYNC_END:"",NIGHT_SYNC_START:"",POST_API_BASE:"",SPECIAL_OPS:!1,SQL_ENABLED:!1,START_DATE:"",STATUS_API_BASE:"",STOP_FLAG:!1,TABLES:"",UPDATE:"",VERSION:""};originalConfig=M({},this.config);ngOnInit(){this.selectedPlaza&&this.loadSucursales(this.selectedPlaza)}ngOnChanges(c){c.selectedPlaza&&!c.selectedPlaza.firstChange&&(this.selectedSucursal=null,this.sucursales=[],this.selectedPlaza&&this.loadSucursales(this.selectedPlaza))}loadSucursales(c){this.loadingSucursales=!0,this.error=null;let n={xalap:"XALAP"}[c]||c.toUpperCase();this.sucursalConfigService.getSucursalesByCity(n,c).subscribe({next:e=>{e.success&&(this.sucursales=e.data.map(i=>({value:i.client_id,label:i.tienda})),this.loadingSucursales=!1)},error:e=>{console.error("Error fetching sucursales:",e),this.error="Failed to load sucursales list",this.loadingSucursales=!1}})}onSucursalChange(c){c&&(this.loading=!0,this.error=null,this.sucursalConfigService.getSucursalConfig(c,"xalap").subscribe({next:t=>{if(t.success){let n=this.sucursalConfigService.parseConfigToObject(t.data);this.config={COMMAND_LINE:n.COMMAND_LINE||"",CREATE:n.CREATE||"",CUSTOM_DATE_RANGE:n.CUSTOM_DATE_RANGE==="1"||n.CUSTOM_DATE_RANGE==="true",DBF_CHUNKS_SIZE:parseInt(n.DBF_CHUNKS_SIZE||"500"),DB_NAME:n.DB_NAME||"",DEBUG:n.DEBUG==="1"||n.DEBUG==="true",DELETE:n.DELETE||"",END_DATE:parseInt(n.END_DATE||"0"),KEY_ID_BYPASS:n.KEY_ID_BYPASS==="1"||n.KEY_ID_BYPASS==="true",NIGHT_SYNC_ENABLED:n.NIGHT_SYNC_ENABLED==="1"||n.NIGHT_SYNC_ENABLED==="true",NIGHT_SYNC_END:n.NIGHT_SYNC_END||"",NIGHT_SYNC_START:n.NIGHT_SYNC_START||"",POST_API_BASE:n.POST_API_BASE||"",SPECIAL_OPS:n.SPECIAL_OPS==="1"||n.SPECIAL_OPS==="true",SQL_ENABLED:n.SQL_ENABLED==="1"||n.SQL_ENABLED==="true",START_DATE:n.START_DATE||"",STATUS_API_BASE:n.STATUS_API_BASE||"",STOP_FLAG:n.STOP_FLAG==="1"||n.STOP_FLAG==="true",TABLES:n.TABLES||"",UPDATE:n.UPDATE||"",VERSION:n.VERSION||""},this.originalConfig=M({},this.config),this.loading=!1}},error:t=>{console.error("Error fetching sucursal config:",t),this.error="Failed to load configuration",this.loading=!1}}))}savingConfig=!1;saveConfig(){this.selectedSucursal&&(this.savingConfig=!0,this.error=null,this.sucursalConfigService.updateSucursalConfig(this.selectedSucursal,this.config,this.selectedPlaza).subscribe({next:c=>{console.log("Configuration saved successfully",c),this.originalConfig=M({},this.config),this.savingConfig=!1,this.toastrService.success("Configuraci\xF3n guardada exitosamente","\xC9xito")},error:c=>{console.error("Error saving configuration:",c),this.error="Failed to save configuration",this.savingConfig=!1,this.toastrService.danger("Error al guardar la configuraci\xF3n","Error")}}))}resetConfig(){this.config=M({},this.originalConfig),console.log("Configuration reset")}selectedStoresForCopy=new Set;copyingToStores=!1;openCopyToStoresModal(){this.selectedSucursal&&(this.selectedStoresForCopy.clear(),this.dialogService.open(this.copyToStoresDialog,{context:{availableStores:this.sucursales.filter(c=>c.value!==this.selectedSucursal)}}))}toggleStoreSelection(c){this.selectedStoresForCopy.has(c)?this.selectedStoresForCopy.delete(c):this.selectedStoresForCopy.add(c)}isStoreSelected(c){return this.selectedStoresForCopy.has(c)}selectAllStores(){this.sucursales.filter(c=>c.value!==this.selectedSucursal).forEach(c=>this.selectedStoresForCopy.add(c.value))}clearAllStores(){this.selectedStoresForCopy.clear()}copyConfigToStores(c){if(this.selectedStoresForCopy.size===0)return;this.copyingToStores=!0;let t=M({},this.config);delete t.DB_NAME;let n=Array.from(this.selectedStoresForCopy);this.sucursalConfigService.updateMultipleSucursales(n,t,this.selectedPlaza).subscribe({next:e=>{console.log("Configuration copied successfully",e),this.copyingToStores=!1,c.close(),this.toastrService.success(`Configuraci\xF3n copiada a ${n.length} tienda(s)`,"\xC9xito")},error:e=>{console.error("Error copying configuration:",e),this.error="Failed to copy configuration to stores",this.copyingToStores=!1,this.toastrService.danger("Error al copiar la configuraci\xF3n","Error")}})}static \u0275fac=function(t){return new(t||g)(w(x),w(le),w(de))};static \u0275cmp=O({type:g,selectors:[["app-setup-view"]],viewQuery:function(t,n){if(t&1&&D(Pe,5),t&2){let e;B(e=L())&&(n.copyToStoresDialog=e.first)}},inputs:{selectedPlaza:"selectedPlaza"},features:[I],decls:16,vars:5,consts:[["copyToStoresDialog",""],[1,"setup-container"],[1,"setup-header"],[1,"header-content"],[1,"setup-title"],[1,"setup-subtitle"],[1,"plaza-selector-wrapper"],[1,"plaza-label"],["placeholder","Seleccione una sucursal",1,"plaza-select",3,"selectedChange","selected","disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["class","config-sections",4,"ngIf"],["value",""],[3,"value"],[1,"config-sections"],[1,"section-row"],[1,"config-section"],[1,"section-header"],["icon","settings-2-outline",1,"section-icon"],[1,"section-title"],[1,"form-field"],[1,"field-label"],["nbInput","","placeholder","XMIGU",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","placeholder","batch_001",1,"field-input",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-field","half-width"],[3,"checkedChange","checked"],["icon","sync-outline",1,"section-icon"],["nbInput","","type","number","placeholder","500",1,"field-input",3,"ngModelChange","ngModel"],[1,"input-with-icon"],["icon","link-2-outline",1,"input-icon"],["nbInput","","placeholder","http://canovas.camposreye...",1,"field-input","with-icon",3,"ngModelChange","ngModel"],[1,"config-section","full-width"],["icon","calendar-outline",1,"section-icon"],[1,"form-field","third-width"],["nbInput","","type","date","placeholder","mm/dd/yyyy",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","placeholder","items",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","type","number","placeholder","0",1,"field-input",3,"ngModelChange","ngModel"],["icon","list-outline",1,"section-icon"],["nbInput","","placeholder","XCORTE,CANOTA,CUNOTA,VENTA,PARTVTA,COBRANZA,FLUJORES",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","placeholder",'{"task":"replace_recno"}',1,"field-input",3,"ngModelChange","ngModel"],["icon","moon-outline",1,"section-icon"],["nbInput","","type","time","placeholder","21:00",1,"field-input",3,"ngModelChange","ngModel"],["nbInput","","type","time","placeholder","06:00",1,"field-input",3,"ngModelChange","ngModel"],[1,"action-buttons"],["nbButton","","status","basic","size","large",1,"reset-button",3,"click"],["icon","refresh-outline"],["nbButton","","status","info","size","large",1,"copy-button",3,"click"],["icon","copy-outline"],["nbButton","","status","primary","size","large",1,"save-button",3,"click","disabled"],["icon","save-outline",4,"ngIf"],["icon","loader-outline","class","spin",4,"ngIf"],["icon","save-outline"],["icon","loader-outline",1,"spin"],[2,"display","flex","justify-content","space-between","align-items","center"],["nbButton","","ghost","",3,"click"],["icon","close-outline"],[2,"margin-bottom","1rem"],["status","warning",2,"margin-bottom","1rem"],[2,"display","flex","gap","0.5rem","margin-bottom","1rem"],["nbButton","","size","small","status","basic",3,"click"],[2,"max-height","300px","overflow-y","auto"],["style","margin-bottom: 0.5rem;",4,"ngFor","ngForOf"],[2,"margin-top","1rem","padding","0.5rem","border-radius","4px"],[2,"display","flex","justify-content","flex-end","gap","0.5rem"],["nbButton","","status","basic",3,"click"],["nbButton","","status","primary",3,"click","disabled"],["icon","copy-outline",4,"ngIf"],[2,"margin-bottom","0.5rem"],[3,"checked","checkedChange",4,"ngIf"]],template:function(t,n){if(t&1){let e=P();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),a(4,"Configuraci\xF3n"),r(),o(5,"p",5),a(6,"Administra los par\xE1metros de sincronizaci\xF3n y base de datos."),r()(),o(7,"div",6)(8,"label",7),a(9,"Sucursal:"),r(),o(10,"nb-select",8),m("selectedChange",function(b){return d(e),u(n.selectedSucursal,b)||(n.selectedSucursal=b),p(b)}),S("selectedChange",function(b){return d(e),p(n.onSucursalChange(b))}),h(11,ye,2,0,"nb-option",9)(12,we,2,2,"nb-option",10),r()()(),h(13,Te,137,25,"div",11),r(),h(14,Ie,35,6,"ng-template",null,0,R)}t&2&&(s(10),_("selected",n.selectedSucursal),C("disabled",n.loadingSucursales||n.sucursales.length===0),s(),C("ngIf",n.loadingSucursales),s(),C("ngForOf",n.sucursales),s(),C("ngIf",n.selectedSucursal))},dependencies:[ee,$,X,J,Z,ue,_e,pe,U,W,z,K,G,j,Y,H,ne,te,q,Q,se,ae,Ce,me,ge,oe,ie,ce,re],styles:[".setup-container[_ngcontent-%COMP%]{padding:0}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1.5rem 0}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .setup-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin:0 0 .5rem;color:#b4b9c5}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .setup-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:#6b7280;margin:0}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .plaza-selector-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;min-width:300px}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .plaza-selector-wrapper[_ngcontent-%COMP%]   .plaza-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;white-space:nowrap}.setup-container[_ngcontent-%COMP%]   .setup-header[_ngcontent-%COMP%]   .plaza-selector-wrapper[_ngcontent-%COMP%]   .plaza-select[_ngcontent-%COMP%]{flex:1}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .section-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}@media (max-width: 1200px){.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .section-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]{background:#1e2139;border:1px solid #2d3548;border-radius:.75rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section.full-width[_ngcontent-%COMP%]{width:100%}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]     nb-card-body{padding:1.5rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#5b8def}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:0;color:#e5e7eb}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#9ca3af;margin-bottom:.5rem;font-weight:500}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%]{width:100%;background:#14172b;border:1px solid #2d3548;border-radius:.5rem;color:#e5e7eb;padding:.65rem .9rem;font-size:.9rem;transition:all .2s ease}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%]:focus{background:#14172b;border-color:#5b8def;outline:none}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%]::placeholder{color:#6b7280}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-input.with-icon[_ngcontent-%COMP%]{padding-left:2.75rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-with-icon[_ngcontent-%COMP%]{position:relative}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-with-icon[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6b7280;font-size:1.1rem;pointer-events:none}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:.75rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-field.half-width[_ngcontent-%COMP%], .setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-field.third-width[_ngcontent-%COMP%]{flex:1}@media (max-width: 768px){.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex-direction:column}}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem;padding-top:0}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;font-weight:600;font-size:.85rem;letter-spacing:.5px;border-radius:.5rem;transition:all .2s ease}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.2rem}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.reset-button[_ngcontent-%COMP%]{background:#1e2139;border:1px solid #2d3548;color:#e5e7eb}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.reset-button[_ngcontent-%COMP%]:hover{background:#282d47;transform:translateY(-1px)}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.save-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5b8def,#7c6bef);border:none;color:#fff;box-shadow:0 4px 12px #5b8def4d}.setup-container[_ngcontent-%COMP%]   .config-sections[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.save-button[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #5b8def66;transform:translateY(-1px)}  nb-select .select-button{background:#14172b!important;border:1px solid #2d3548!important;border-radius:.5rem!important;color:#e5e7eb!important;padding:.65rem .9rem!important}  nb-select .select-button:focus{background:#14172b!important;border-color:#5b8def!important}  nb-select .select-button .placeholder{color:#6b7280!important}  input[nbInput]::-webkit-calendar-picker-indicator{filter:invert(1);cursor:pointer}"]})};var he=class g{selectedCity="xalap";constructor(){}onPlazaChange(c){this.selectedCity=c}static \u0275fac=function(t){return new(t||g)};static \u0275cmp=O({type:g,selectors:[["app-settings"]],decls:2,vars:2,consts:[[3,"selectedPlazaChange","selectedPlaza"],[3,"selectedPlaza"]],template:function(t,n){t&1&&(o(0,"app-plaza-selector",0),m("selectedPlazaChange",function(i){return u(n.selectedCity,i)||(n.selectedCity=i),i}),S("selectedPlazaChange",function(i){return n.onPlazaChange(i)}),r(),f(1,"app-setup-view",1)),t&2&&(_("selectedPlaza",n.selectedCity),s(),C("selectedPlaza",n.selectedCity))},dependencies:[fe,T],encapsulation:2})};export{he as SettingsComponent};
