<nb-card class="filter-card">
  <nb-card-body>
    <div class="filters-container">
      
      <!-- Text Filter Section -->
      <div *ngIf="config?.showTextFilter" class="filter-group">
        <div class="filter-header">
          <label class="filter-label">Buscar</label>
          <nb-icon *ngIf="config.lockTextFilter" 
                   icon="lock-outline" 
                   class="lock-icon">
          </nb-icon>
        </div>
        <div class="filter-inputs">
          <nb-select [(selected)]="selectedField"
                     (selectedChange)="onFieldChange()"
                     [disabled]="config?.lockTextFilter || false"
                     placeholder="Campo"
                     class="field-selector">
            <nb-option *ngFor="let field of config?.fields" [value]="field.value">
              {{ field.label }}
            </nb-option>
          </nb-select>
          
          <input nbInput 
                 [(ngModel)]="searchText"
                 (ngModelChange)="onSearchChange()"
                 [disabled]="config?.lockTextFilter || false"
                 placeholder="Buscar..."
                 class="search-input">
        </div>
      </div>

      <!-- Date Range Filter Section -->
      <div *ngIf="config?.showDateFilter" class="filter-group">
        <div class="filter-header">
          <label class="filter-label">Rango de Fechas</label>
          <nb-icon *ngIf="config?.lockDateFilter" 
                   icon="lock-outline" 
                   class="lock-icon">
          </nb-icon>
        </div>
        <div class="filter-inputs date-inputs">
          <input nbInput 
                 type="date"
                 placeholder="Fecha Inicio"
                 [(ngModel)]="dateRange.start"
                 (ngModelChange)="onDateRangeChange()"
                 [disabled]="config?.lockDateFilter || false"
                 class="date-input">
          
          <span class="date-separator">-</span>
          
          <input nbInput 
                 type="date"
                 placeholder="Fecha Fin"
                 [(ngModel)]="dateRange.end"
                 (ngModelChange)="onDateRangeChange()"
                 [disabled]="config?.lockDateFilter || false"
                 class="date-input">
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="filter-actions">
        <button *ngIf="config?.manualApply"
                nbButton 
                size="small" 
                status="primary"
                (click)="applyFilters()">
          <nb-icon icon="checkmark-outline"></nb-icon>
          Aplicar Filtros
        </button>
        
        <button nbButton 
                size="small" 
                status="basic"
                (click)="clearFilters()">
          <nb-icon icon="close-outline"></nb-icon>
          Limpiar
        </button>
      </div>
      
    </div>
  </nb-card-body>
</nb-card>
